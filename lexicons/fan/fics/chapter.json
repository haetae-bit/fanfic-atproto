{
  "lexicon": 1,
  "id": "fan.fics.work.chapter",
  "defs": {
    "main": {
      "type": "record",
      "key": "tid",
      "record": {
        "type": "object",
        "required": [
          "workUri",
          "title",
          "content",
          "createdAt"
        ],
        "properties": {
          "workUri": {
            "description": "The work this chapter is associated with",
            "type": "string",
            "format": "at-uri"
          },
          "chapterRef": {
            "description": "A reference to this chapter",
            "type": "ref",
            "ref": "com.atproto.repo.strongRef"
          },
          "title": {
            "type": "string",
            "minLength": 1,
            "maxLength": 1000,
            "maxGraphemes": 1000
          },
          "authorsNotes": {
            "type": "string",
            "description": "You can add additional notes to a chapter. Typically, these are displayed before chapter content. Only limited HTML is allowed.",
            "minLength": 1,
            "maxLength": 2560,
            "maxGraphemes": 256
          },
          "content": {
            "type": "union",
            "refs": [
              "#chapterText",
              "#leafletDoc",
              "#bskyPost"
            ]
          },
          "endNotes": {
            "type": "string",
            "description": "You can add additional notes to a chapter. Typically, these are displayed after chapter content. Only limited HTML is allowed.",
            "minLength": 1,
            "maxLength": 2560,
            "maxGraphemes": 256
          },
          "createdAt": {
            "type": "string",
            "format": "datetime"
          },
          "updatedAt": {
            "type": "string",
            "format": "datetime"
          }
        }
      }
    },
    "chapterText": {
      "type": "object",
      "required": ["text"],
      "properties": {
        "text": {
          "type": "string",
          "minLength": 1
        }
      }
    },
    "leafletDoc": {
      "type": "object",
      "required": ["docRef"],
      "properties": {
        "docRef": {
          "type": "ref",
          "ref": "com.atproto.repo.strongRef"
        }
      }
    },
    "bskyPost": {
      "type": "object",
      "required": ["postRef"],
      "properties": {
        "postRef": {
          "type": "ref",
          "ref": "com.atproto.repo.strongRef"
        }
      }
    }
  }
}